{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/benkennon/dawg-ai/packages/types/src/events.ts"],"sourcesContent":["/**\n * @package @dawg-ai/types\n * @description Event types and Zod schemas for DAWG AI event bus\n * @owner Jerry (AI Conductor)\n */\n\nimport { z } from 'zod';\n\n// ============================================================================\n// Base Event Envelope\n// ============================================================================\n\nexport const EventEnvelopeSchema = z.object({\n  event: z.string(),\n  version: z.string().default('v1'),\n  id: z.string(),\n  trace_id: z.string(),\n  producer: z.string(),\n  ts: z.string().datetime(),\n  signature: z.string(),\n  payload: z.record(z.string(), z.any()),\n});\n\nexport type EventEnvelope<T = any> = {\n  event: string;\n  version: string;\n  id: string;\n  trace_id: string;\n  producer: string;\n  ts: string;\n  signature: string;\n  payload: T;\n};\n\n// ============================================================================\n// Journey Events (journey.*)\n// ============================================================================\n\nexport const VocalProfileSchema = z.object({\n  lowest_note: z.string(),\n  highest_note: z.string(),\n  range_semitones: z.number(),\n  skill_level: z.enum(['beginner', 'intermediate', 'advanced']),\n});\n\nexport const JourneyStartedPayloadSchema = z.object({\n  journey_id: z.string(),\n  user_id: z.string(),\n  journey_type: z.enum(['record_song', 'expand_range', 'improve_control', 'build_confidence']),\n  estimated_weeks: z.number(),\n  difficulty: z.enum(['easy', 'medium', 'hard']),\n  vocal_profile: VocalProfileSchema,\n});\n\nexport const StageCompletedPayloadSchema = z.object({\n  journey_id: z.string(),\n  stage_id: z.string(),\n  stage_name: z.string(),\n  completion_time_sec: z.number(),\n  next_stage_id: z.string().optional(),\n});\n\nexport const JourneyPausedPayloadSchema = z.object({\n  journey_id: z.string(),\n  reason: z.enum(['user_request', 'ai_recommendation', 'technical_issue']).optional(),\n});\n\nexport const JourneyResumedPayloadSchema = z.object({\n  journey_id: z.string(),\n  paused_duration_sec: z.number(),\n});\n\nexport const JourneyCompletedPayloadSchema = z.object({\n  journey_id: z.string(),\n  total_duration_sec: z.number(),\n  stages_completed: z.number(),\n  final_recording_id: z.string().optional(),\n});\n\nexport type VocalProfile = z.infer<typeof VocalProfileSchema>;\nexport type JourneyStartedPayload = z.infer<typeof JourneyStartedPayloadSchema>;\nexport type StageCompletedPayload = z.infer<typeof StageCompletedPayloadSchema>;\nexport type JourneyPausedPayload = z.infer<typeof JourneyPausedPayloadSchema>;\nexport type JourneyResumedPayload = z.infer<typeof JourneyResumedPayloadSchema>;\nexport type JourneyCompletedPayload = z.infer<typeof JourneyCompletedPayloadSchema>;\n\n// ============================================================================\n// Recording Events (recording.*)\n// ============================================================================\n\nexport const RecordingStartedPayloadSchema = z.object({\n  recording_id: z.string(),\n  journey_id: z.string(),\n  user_id: z.string(),\n  track_id: z.string(),\n  input_device: z.string(),\n});\n\nexport const RecordingStoppedPayloadSchema = z.object({\n  recording_id: z.string(),\n  duration_sec: z.number(),\n  file_size_bytes: z.number(),\n  sample_rate: z.number(),\n  format: z.enum(['wav', 'mp3', 'webm', 'opus']),\n});\n\nexport const TakesUploadedPayloadSchema = z.object({\n  recording_id: z.string(),\n  take_ids: z.array(z.string()),\n  take_count: z.number(),\n  total_size_bytes: z.number(),\n});\n\nexport const TakeSelectedPayloadSchema = z.object({\n  recording_id: z.string(),\n  selected_take_id: z.string(),\n  selection_reason: z.enum(['ai_recommendation', 'user_choice']),\n});\n\nexport type RecordingStartedPayload = z.infer<typeof RecordingStartedPayloadSchema>;\nexport type RecordingStoppedPayload = z.infer<typeof RecordingStoppedPayloadSchema>;\nexport type TakesUploadedPayload = z.infer<typeof TakesUploadedPayloadSchema>;\nexport type TakeSelectedPayload = z.infer<typeof TakeSelectedPayloadSchema>;\n\n// ============================================================================\n// AI Feedback Events (coach.*, comping.*, mix.*, master.*)\n// ============================================================================\n\nexport const CoachFeedbackPayloadSchema = z.object({\n  recording_id: z.string(),\n  timestamp_sec: z.number(),\n  detected_issue: z.enum([\n    'pitch_flat',\n    'pitch_sharp',\n    'timing_early',\n    'timing_late',\n    'breath_support',\n    'vowel_shape',\n    'vibrato',\n  ]),\n  severity: z.enum(['info', 'warning', 'critical']),\n  message: z.string(),\n  suggested_fix: z.string().optional(),\n});\n\nexport const CompingSuggestionPayloadSchema = z.object({\n  recording_id: z.string(),\n  take_ids: z.array(z.string()),\n  suggested_take_id: z.string(),\n  confidence_score: z.number().min(0).max(1),\n  reasoning: z.string(),\n});\n\nexport const MixSuggestionPayloadSchema = z.object({\n  recording_id: z.string(),\n  effect_chain: z.array(\n    z.object({\n      effect_type: z.enum(['eq', 'compression', 'reverb', 'delay', 'saturation', 'deesser']),\n      parameters: z.record(z.string(), z.number()),\n    })\n  ),\n  reasoning: z.string(),\n});\n\nexport const MasterCompletedPayloadSchema = z.object({\n  recording_id: z.string(),\n  mastered_file_url: z.string(),\n  lufs: z.number(),\n  peak_db: z.number(),\n  duration_sec: z.number(),\n});\n\nexport type CoachFeedbackPayload = z.infer<typeof CoachFeedbackPayloadSchema>;\nexport type CompingSuggestionPayload = z.infer<typeof CompingSuggestionPayloadSchema>;\nexport type MixSuggestionPayload = z.infer<typeof MixSuggestionPayloadSchema>;\nexport type MasterCompletedPayload = z.infer<typeof MasterCompletedPayloadSchema>;\n\n// ============================================================================\n// Task Events (tasks.*)\n// ============================================================================\n\nexport const TaskCreatedPayloadSchema = z.object({\n  task_id: z.string(),\n  title: z.string(),\n  owner: z.string(),\n  priority: z.enum(['P0', 'P1', 'P2', 'P3']),\n  estimate_days: z.number(),\n  dependencies: z.array(z.string()).optional(),\n});\n\nexport const TaskAssignedPayloadSchema = z.object({\n  task_id: z.string(),\n  assigned_to: z.string(),\n  assigned_by: z.string(),\n  deadline: z.string().datetime().optional(),\n});\n\nexport const TaskCompletedPayloadSchema = z.object({\n  task_ids: z.array(z.string()),\n  completed_items: z.array(z.string()),\n  completed_by: z.string(),\n});\n\nexport const TaskUpdatedPayloadSchema = z.object({\n  task_id: z.string(),\n  action: z.enum(['backlog_refined', 'priority_changed', 'blocked', 'unblocked']),\n  changes: z.record(z.string(), z.any()),\n});\n\nexport type TaskCreatedPayload = z.infer<typeof TaskCreatedPayloadSchema>;\nexport type TaskAssignedPayload = z.infer<typeof TaskAssignedPayloadSchema>;\nexport type TaskCompletedPayload = z.infer<typeof TaskCompletedPayloadSchema>;\nexport type TaskUpdatedPayload = z.infer<typeof TaskUpdatedPayloadSchema>;\n\n// ============================================================================\n// Agent Coordination Events (agent.*)\n// ============================================================================\n\nexport const AgentStatusUpdatePayloadSchema = z.object({\n  agent_id: z.string(),\n  agent_name: z.string(),\n  status: z.enum(['active', 'idle', 'blocked', 'offline']),\n  current_task: z.string().optional(),\n  progress: z.number().min(0).max(100),\n  health: z.enum(['healthy', 'degraded', 'critical']),\n  needs_help: z.boolean(),\n  available_to_help: z.boolean(),\n  computational_resources: z.object({\n    cpu_usage: z.number().min(0).max(100),\n    memory_usage: z.number().min(0).max(100),\n    available_capacity: z.number().min(0).max(100),\n  }),\n});\n\nexport const AgentHelpRequestedPayloadSchema = z.object({\n  request_id: z.string(),\n  requester: z.string(),\n  requester_name: z.string(),\n  issue: z.string(),\n  urgency: z.enum(['low', 'medium', 'high', 'critical']),\n  required_capabilities: z.array(z.string()).optional(),\n  context: z.record(z.string(), z.any()).optional(),\n});\n\nexport const AgentHelpClaimedPayloadSchema = z.object({\n  request_id: z.string(),\n  claimed_by: z.string(),\n  claimed_by_name: z.string(),\n});\n\nexport const AgentHelpResolvedPayloadSchema = z.object({\n  request_id: z.string(),\n  resolved_by: z.string(),\n  resolved_by_name: z.string(),\n  resolution_notes: z.string().optional(),\n});\n\nexport const AgentBuddyPairedPayloadSchema = z.object({\n  primary: z.string(),\n  buddy: z.string(),\n  focus: z.string(),\n});\n\nexport const AgentHeartbeatPayloadSchema = z.object({\n  agent_id: z.string(),\n  agent_name: z.string(),\n  status: z.enum(['active', 'idle', 'blocked', 'offline']),\n  health: z.enum(['healthy', 'degraded', 'critical']),\n});\n\nexport type AgentStatusUpdatePayload = z.infer<typeof AgentStatusUpdatePayloadSchema>;\nexport type AgentHelpRequestedPayload = z.infer<typeof AgentHelpRequestedPayloadSchema>;\nexport type AgentHelpClaimedPayload = z.infer<typeof AgentHelpClaimedPayloadSchema>;\nexport type AgentHelpResolvedPayload = z.infer<typeof AgentHelpResolvedPayloadSchema>;\nexport type AgentBuddyPairedPayload = z.infer<typeof AgentBuddyPairedPayloadSchema>;\nexport type AgentHeartbeatPayload = z.infer<typeof AgentHeartbeatPayloadSchema>;\n\n// ============================================================================\n// Metrics Events (metrics.*)\n// ============================================================================\n\nexport const MetricSchema = z.object({\n  name: z.string(),\n  value: z.number(),\n  unit: z.string(),\n  tags: z.record(z.string(), z.string()).optional(),\n});\n\nexport const MetricsTickPayloadSchema = z.object({\n  metrics: z.array(MetricSchema),\n  period_sec: z.number(),\n  timestamp: z.string().datetime(),\n});\n\nexport type Metric = z.infer<typeof MetricSchema>;\nexport type MetricsTickPayload = z.infer<typeof MetricsTickPayloadSchema>;\n\n// ============================================================================\n// Alerts Events (alerts.*)\n// ============================================================================\n\nexport const AlertInfoPayloadSchema = z.object({\n  msg: z.string(),\n  agent: z.string().optional(),\n  feature: z.string().optional(),\n  metadata: z.record(z.string(), z.any()).optional(),\n});\n\nexport const AlertWarningPayloadSchema = z.object({\n  msg: z.string(),\n  agent: z.string(),\n  severity: z.enum(['low', 'medium', 'high']),\n  action_required: z.boolean(),\n});\n\nexport const AlertErrorPayloadSchema = z.object({\n  msg: z.string(),\n  agent: z.string(),\n  error_code: z.string(),\n  stack_trace: z.string().optional(),\n  recovery_attempted: z.boolean(),\n});\n\nexport type AlertInfoPayload = z.infer<typeof AlertInfoPayloadSchema>;\nexport type AlertWarningPayload = z.infer<typeof AlertWarningPayloadSchema>;\nexport type AlertErrorPayload = z.infer<typeof AlertErrorPayloadSchema>;\n\n// ============================================================================\n// Conductor Events (conductor.*)\n// ============================================================================\n\nexport const ConductorPlanUpdatedPayloadSchema = z.object({\n  msg: z.string(),\n  plan_version: z.string(),\n  contracts: z.object({\n    event_schemas: z.array(z.string()),\n    openapi_specs: z.array(z.string()),\n    grpc_protos: z.array(z.string()),\n    e2e_tests: z.array(z.string()).optional(),\n  }),\n  capabilities: z.array(z.string()),\n  links: z.record(z.string(), z.string()),\n});\n\nexport type ConductorPlanUpdatedPayload = z.infer<typeof ConductorPlanUpdatedPayloadSchema>;\n\n// ============================================================================\n// Code Events (code.*)\n// ============================================================================\n\nexport const CodeDiffProposedPayloadSchema = z.object({\n  task_id: z.string(),\n  branch: z.string(),\n  diff: z.string(),\n  tests: z.object({\n    passed: z.number(),\n    failed: z.number(),\n  }),\n  coverage: z.object({\n    lines: z.number(),\n  }),\n  notes: z.string().optional(),\n});\n\nexport const CodeReviewCompletedPayloadSchema = z.object({\n  task_id: z.string(),\n  review_type: z.string(),\n  files_analyzed: z.number(),\n  issues_found: z.record(z.string(), z.number()),\n  report_location: z.string(),\n  key_findings: z.array(z.string()),\n  recommendations: z.record(z.string(), z.string()),\n  estimated_effort: z.string(),\n});\n\nexport type CodeDiffProposedPayload = z.infer<typeof CodeDiffProposedPayloadSchema>;\nexport type CodeReviewCompletedPayload = z.infer<typeof CodeReviewCompletedPayloadSchema>;\n\n// ============================================================================\n// UI Events (ui.*)\n// ============================================================================\n\nexport const UIThemeChangedPayloadSchema = z.object({\n  theme: z.enum(['light', 'dark', 'system']),\n  previous_theme: z.enum(['light', 'dark', 'system']),\n  user_id: z.string().optional(),\n});\n\nexport const UIWidgetMountedPayloadSchema = z.object({\n  widget_id: z.string(),\n  widget_type: z.string(),\n  parent_id: z.string().optional(),\n  props: z.record(z.string(), z.any()).optional(),\n});\n\nexport const UIWidgetUnmountedPayloadSchema = z.object({\n  widget_id: z.string(),\n  widget_type: z.string(),\n  duration_ms: z.number(),\n});\n\nexport const UILayoutResizedPayloadSchema = z.object({\n  viewport_width: z.number(),\n  viewport_height: z.number(),\n  breakpoint: z.enum(['xs', 'sm', 'md', 'lg', 'xl', '2xl']),\n  previous_breakpoint: z.enum(['xs', 'sm', 'md', 'lg', 'xl', '2xl']).optional(),\n});\n\nexport const UIRouteChangedPayloadSchema = z.object({\n  from: z.string(),\n  to: z.string(),\n  query_params: z.record(z.string(), z.string()).optional(),\n});\n\nexport const UIModalOpenedPayloadSchema = z.object({\n  modal_id: z.string(),\n  modal_type: z.string(),\n  trigger: z.enum(['user', 'system', 'error']),\n});\n\nexport const UIModalClosedPayloadSchema = z.object({\n  modal_id: z.string(),\n  modal_type: z.string(),\n  action: z.enum(['confirm', 'cancel', 'close', 'backdrop']),\n  duration_ms: z.number(),\n});\n\nexport const UINotificationShownPayloadSchema = z.object({\n  notification_id: z.string(),\n  type: z.enum(['info', 'success', 'warning', 'error']),\n  message: z.string(),\n  duration_ms: z.number().optional(),\n});\n\nexport const UIErrorDisplayedPayloadSchema = z.object({\n  error_id: z.string(),\n  error_type: z.string(),\n  message: z.string(),\n  stack: z.string().optional(),\n  component: z.string().optional(),\n});\n\nexport type UIThemeChangedPayload = z.infer<typeof UIThemeChangedPayloadSchema>;\nexport type UIWidgetMountedPayload = z.infer<typeof UIWidgetMountedPayloadSchema>;\nexport type UIWidgetUnmountedPayload = z.infer<typeof UIWidgetUnmountedPayloadSchema>;\nexport type UILayoutResizedPayload = z.infer<typeof UILayoutResizedPayloadSchema>;\nexport type UIRouteChangedPayload = z.infer<typeof UIRouteChangedPayloadSchema>;\nexport type UIModalOpenedPayload = z.infer<typeof UIModalOpenedPayloadSchema>;\nexport type UIModalClosedPayload = z.infer<typeof UIModalClosedPayloadSchema>;\nexport type UINotificationShownPayload = z.infer<typeof UINotificationShownPayloadSchema>;\nexport type UIErrorDisplayedPayload = z.infer<typeof UIErrorDisplayedPayloadSchema>;\n\n// ============================================================================\n// Event Topic Constants\n// ============================================================================\n\nexport const EventTopics = {\n  // Journey\n  JOURNEY_STARTED: 'journey.started',\n  STAGE_COMPLETED: 'stage.completed',\n  JOURNEY_PAUSED: 'journey.paused',\n  JOURNEY_RESUMED: 'journey.resumed',\n  JOURNEY_COMPLETED: 'journey.completed',\n\n  // Recording\n  RECORDING_STARTED: 'recording.started',\n  RECORDING_STOPPED: 'recording.stopped',\n  TAKES_UPLOADED: 'recording.takes.uploaded',\n  TAKE_SELECTED: 'recording.take.selected',\n\n  // AI Feedback\n  COACH_FEEDBACK: 'coach.feedback',\n  COMPING_SUGGESTION: 'comping.suggestion',\n  MIX_SUGGESTION: 'mix.suggestion',\n  MASTER_COMPLETED: 'master.completed',\n\n  // Tasks\n  TASK_CREATED: 'tasks.created',\n  TASK_ASSIGNED: 'tasks.assigned',\n  TASK_COMPLETED: 'tasks.completed',\n  TASK_UPDATED: 'tasks.updated',\n\n  // Agent Coordination\n  AGENT_STATUS_UPDATE: 'agent.status.update',\n  AGENT_HELP_REQUESTED: 'agent.help.requested',\n  AGENT_HELP_CLAIMED: 'agent.help.claimed',\n  AGENT_HELP_RESOLVED: 'agent.help.resolved',\n  AGENT_BUDDY_PAIRED: 'agent.buddy.paired',\n  AGENT_HEARTBEAT: 'agent.heartbeat',\n\n  // Metrics\n  METRICS_TICK: 'metrics.tick',\n\n  // Alerts\n  ALERT_INFO: 'alerts.info',\n  ALERT_WARNING: 'alerts.warning',\n  ALERT_ERROR: 'alerts.error',\n\n  // Conductor\n  CONDUCTOR_PLAN_UPDATED: 'conductor.plan.updated',\n\n  // Code\n  CODE_DIFF_PROPOSED: 'code.diff.proposed',\n  CODE_REVIEW_COMPLETED: 'code.review.completed',\n\n  // UI Events\n  UI_THEME_CHANGED: 'ui.theme.changed',\n  UI_WIDGET_MOUNTED: 'ui.widget.mounted',\n  UI_WIDGET_UNMOUNTED: 'ui.widget.unmounted',\n  UI_LAYOUT_RESIZED: 'ui.layout.resized',\n  UI_ROUTE_CHANGED: 'ui.route.changed',\n  UI_MODAL_OPENED: 'ui.modal.opened',\n  UI_MODAL_CLOSED: 'ui.modal.closed',\n  UI_NOTIFICATION_SHOWN: 'ui.notification.shown',\n  UI_ERROR_DISPLAYED: 'ui.error.displayed',\n} as const;\n\nexport type EventTopic = (typeof EventTopics)[keyof typeof EventTopics];\n\n// ============================================================================\n// Event Payload Type Map\n// ============================================================================\n\nexport type EventPayloadMap = {\n  // Journey\n  [EventTopics.JOURNEY_STARTED]: JourneyStartedPayload;\n  [EventTopics.STAGE_COMPLETED]: StageCompletedPayload;\n  [EventTopics.JOURNEY_PAUSED]: JourneyPausedPayload;\n  [EventTopics.JOURNEY_RESUMED]: JourneyResumedPayload;\n  [EventTopics.JOURNEY_COMPLETED]: JourneyCompletedPayload;\n\n  // Recording\n  [EventTopics.RECORDING_STARTED]: RecordingStartedPayload;\n  [EventTopics.RECORDING_STOPPED]: RecordingStoppedPayload;\n  [EventTopics.TAKES_UPLOADED]: TakesUploadedPayload;\n  [EventTopics.TAKE_SELECTED]: TakeSelectedPayload;\n\n  // AI Feedback\n  [EventTopics.COACH_FEEDBACK]: CoachFeedbackPayload;\n  [EventTopics.COMPING_SUGGESTION]: CompingSuggestionPayload;\n  [EventTopics.MIX_SUGGESTION]: MixSuggestionPayload;\n  [EventTopics.MASTER_COMPLETED]: MasterCompletedPayload;\n\n  // Tasks\n  [EventTopics.TASK_CREATED]: TaskCreatedPayload;\n  [EventTopics.TASK_ASSIGNED]: TaskAssignedPayload;\n  [EventTopics.TASK_COMPLETED]: TaskCompletedPayload;\n  [EventTopics.TASK_UPDATED]: TaskUpdatedPayload;\n\n  // Agent Coordination\n  [EventTopics.AGENT_STATUS_UPDATE]: AgentStatusUpdatePayload;\n  [EventTopics.AGENT_HELP_REQUESTED]: AgentHelpRequestedPayload;\n  [EventTopics.AGENT_HELP_CLAIMED]: AgentHelpClaimedPayload;\n  [EventTopics.AGENT_HELP_RESOLVED]: AgentHelpResolvedPayload;\n  [EventTopics.AGENT_BUDDY_PAIRED]: AgentBuddyPairedPayload;\n  [EventTopics.AGENT_HEARTBEAT]: AgentHeartbeatPayload;\n\n  // Metrics\n  [EventTopics.METRICS_TICK]: MetricsTickPayload;\n\n  // Alerts\n  [EventTopics.ALERT_INFO]: AlertInfoPayload;\n  [EventTopics.ALERT_WARNING]: AlertWarningPayload;\n  [EventTopics.ALERT_ERROR]: AlertErrorPayload;\n\n  // Conductor\n  [EventTopics.CONDUCTOR_PLAN_UPDATED]: ConductorPlanUpdatedPayload;\n\n  // Code\n  [EventTopics.CODE_DIFF_PROPOSED]: CodeDiffProposedPayload;\n  [EventTopics.CODE_REVIEW_COMPLETED]: CodeReviewCompletedPayload;\n\n  // UI Events\n  [EventTopics.UI_THEME_CHANGED]: UIThemeChangedPayload;\n  [EventTopics.UI_WIDGET_MOUNTED]: UIWidgetMountedPayload;\n  [EventTopics.UI_WIDGET_UNMOUNTED]: UIWidgetUnmountedPayload;\n  [EventTopics.UI_LAYOUT_RESIZED]: UILayoutResizedPayload;\n  [EventTopics.UI_ROUTE_CHANGED]: UIRouteChangedPayload;\n  [EventTopics.UI_MODAL_OPENED]: UIModalOpenedPayload;\n  [EventTopics.UI_MODAL_CLOSED]: UIModalClosedPayload;\n  [EventTopics.UI_NOTIFICATION_SHOWN]: UINotificationShownPayload;\n  [EventTopics.UI_ERROR_DISPLAYED]: UIErrorDisplayedPayload;\n};\n\n// ============================================================================\n// Validation Helpers\n// ============================================================================\n\nexport function validateEventPayload<T extends EventTopic>(\n  topic: T,\n  payload: unknown\n): EventPayloadMap[T] {\n  const schemaMap: Record<string, z.ZodSchema> = {\n    [EventTopics.JOURNEY_STARTED]: JourneyStartedPayloadSchema,\n    [EventTopics.STAGE_COMPLETED]: StageCompletedPayloadSchema,\n    [EventTopics.JOURNEY_PAUSED]: JourneyPausedPayloadSchema,\n    [EventTopics.JOURNEY_RESUMED]: JourneyResumedPayloadSchema,\n    [EventTopics.JOURNEY_COMPLETED]: JourneyCompletedPayloadSchema,\n    [EventTopics.RECORDING_STARTED]: RecordingStartedPayloadSchema,\n    [EventTopics.RECORDING_STOPPED]: RecordingStoppedPayloadSchema,\n    [EventTopics.TAKES_UPLOADED]: TakesUploadedPayloadSchema,\n    [EventTopics.TAKE_SELECTED]: TakeSelectedPayloadSchema,\n    [EventTopics.COACH_FEEDBACK]: CoachFeedbackPayloadSchema,\n    [EventTopics.COMPING_SUGGESTION]: CompingSuggestionPayloadSchema,\n    [EventTopics.MIX_SUGGESTION]: MixSuggestionPayloadSchema,\n    [EventTopics.MASTER_COMPLETED]: MasterCompletedPayloadSchema,\n    [EventTopics.TASK_CREATED]: TaskCreatedPayloadSchema,\n    [EventTopics.TASK_ASSIGNED]: TaskAssignedPayloadSchema,\n    [EventTopics.TASK_COMPLETED]: TaskCompletedPayloadSchema,\n    [EventTopics.TASK_UPDATED]: TaskUpdatedPayloadSchema,\n    [EventTopics.AGENT_STATUS_UPDATE]: AgentStatusUpdatePayloadSchema,\n    [EventTopics.AGENT_HELP_REQUESTED]: AgentHelpRequestedPayloadSchema,\n    [EventTopics.AGENT_HELP_CLAIMED]: AgentHelpClaimedPayloadSchema,\n    [EventTopics.AGENT_HELP_RESOLVED]: AgentHelpResolvedPayloadSchema,\n    [EventTopics.AGENT_BUDDY_PAIRED]: AgentBuddyPairedPayloadSchema,\n    [EventTopics.AGENT_HEARTBEAT]: AgentHeartbeatPayloadSchema,\n    [EventTopics.METRICS_TICK]: MetricsTickPayloadSchema,\n    [EventTopics.ALERT_INFO]: AlertInfoPayloadSchema,\n    [EventTopics.ALERT_WARNING]: AlertWarningPayloadSchema,\n    [EventTopics.ALERT_ERROR]: AlertErrorPayloadSchema,\n    [EventTopics.CONDUCTOR_PLAN_UPDATED]: ConductorPlanUpdatedPayloadSchema,\n    [EventTopics.CODE_DIFF_PROPOSED]: CodeDiffProposedPayloadSchema,\n    [EventTopics.CODE_REVIEW_COMPLETED]: CodeReviewCompletedPayloadSchema,\n    [EventTopics.UI_THEME_CHANGED]: UIThemeChangedPayloadSchema,\n    [EventTopics.UI_WIDGET_MOUNTED]: UIWidgetMountedPayloadSchema,\n    [EventTopics.UI_WIDGET_UNMOUNTED]: UIWidgetUnmountedPayloadSchema,\n    [EventTopics.UI_LAYOUT_RESIZED]: UILayoutResizedPayloadSchema,\n    [EventTopics.UI_ROUTE_CHANGED]: UIRouteChangedPayloadSchema,\n    [EventTopics.UI_MODAL_OPENED]: UIModalOpenedPayloadSchema,\n    [EventTopics.UI_MODAL_CLOSED]: UIModalClosedPayloadSchema,\n    [EventTopics.UI_NOTIFICATION_SHOWN]: UINotificationShownPayloadSchema,\n    [EventTopics.UI_ERROR_DISPLAYED]: UIErrorDisplayedPayloadSchema,\n  };\n\n  const schema = schemaMap[topic];\n  if (!schema) {\n    throw new Error(`No schema found for topic: ${topic}`);\n  }\n\n  return schema.parse(payload) as EventPayloadMap[T];\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 609, "column": 0}, "map": {"version":3,"sources":["file:///Users/benkennon/dawg-ai/packages/types/src/env.ts"],"sourcesContent":["/**\n * @package @dawg-ai/types\n * @description Environment variable validation using Zod\n * @owner Jerry (AI Conductor)\n */\n\nimport { z } from 'zod';\n\n// ============================================================================\n// Environment Schema\n// ============================================================================\n\nexport const EnvSchema = z.object({\n  // Node environment\n  NODE_ENV: z.enum(['development', 'production', 'test']).default('development'),\n\n  // Application\n  NEXT_PUBLIC_APP_URL: z.string().url().optional(),\n  PORT: z.coerce.number().default(3000),\n\n  // Event Bus Transport\n  EVENT_BUS_MODE: z.enum(['nats', 'redis', 'gitops', 'test']).default('gitops'),\n  NATS_URL: z.string().url().optional(),\n  REDIS_URL: z.string().url().optional(),\n  EVENT_BUS_AGENT_NAME: z.string().optional(),\n\n  // Database\n  DATABASE_URL: z.string().url().optional(),\n\n  // S3 Storage\n  S3_BUCKET: z.string().optional(),\n  S3_REGION: z.string().default('us-east-1'),\n  S3_ACCESS_KEY: z.string().optional(),\n  S3_SECRET_KEY: z.string().optional(),\n\n  // AI Services\n  ANTHROPIC_API_KEY: z.string().optional(),\n  OPENAI_API_KEY: z.string().optional(),\n\n  // Audio Services\n  ELEVENLABS_API_KEY: z.string().optional(),\n\n  // Authentication\n  NEXTAUTH_SECRET: z.string().optional(),\n  NEXTAUTH_URL: z.string().url().optional(),\n\n  // Feature Flags\n  ENABLE_VOICE_INTERFACE: z.coerce.boolean().default(false),\n  ENABLE_METRICS_COLLECTION: z.coerce.boolean().default(true),\n  ENABLE_AGENT_COORDINATION: z.coerce.boolean().default(true),\n\n  // Monitoring\n  SENTRY_DSN: z.string().url().optional(),\n  SENTRY_ENVIRONMENT: z.string().optional(),\n  LOG_LEVEL: z.enum(['debug', 'info', 'warn', 'error']).default('info'),\n});\n\nexport type Env = z.infer<typeof EnvSchema>;\n\n// ============================================================================\n// Validation Function\n// ============================================================================\n\nlet cachedEnv: Env | null = null;\n\nexport function validateEnv(): Env {\n  if (cachedEnv) {\n    return cachedEnv;\n  }\n\n  try {\n    cachedEnv = EnvSchema.parse(process.env);\n    return cachedEnv;\n  } catch (error) {\n    if (error instanceof z.ZodError) {\n      const formattedErrors = error.issues.map((err) => {\n        return `  - ${err.path.join('.')}: ${err.message}`;\n      });\n\n      throw new Error(\n        `Environment validation failed:\\n${formattedErrors.join('\\n')}`\n      );\n    }\n    throw error;\n  }\n}\n\n// ============================================================================\n// Runtime Environment Checks\n// ============================================================================\n\nexport function requireEnvVar(key: keyof Env, customMessage?: string): string {\n  const env = validateEnv();\n  const value = env[key];\n\n  if (value === undefined || value === null || value === '') {\n    throw new Error(\n      customMessage || `Required environment variable ${key} is not set`\n    );\n  }\n\n  return String(value);\n}\n\nexport function getEnvVar(key: keyof Env, fallback?: string): string | undefined {\n  const env = validateEnv();\n  const value = env[key];\n  return value !== undefined && value !== null ? String(value) : fallback;\n}\n\n// ============================================================================\n// Environment Type Guards\n// ============================================================================\n\nexport function isProduction(): boolean {\n  return validateEnv().NODE_ENV === 'production';\n}\n\nexport function isDevelopment(): boolean {\n  return validateEnv().NODE_ENV === 'development';\n}\n\nexport function isTest(): boolean {\n  return validateEnv().NODE_ENV === 'test';\n}\n\n// ============================================================================\n// Event Bus Config Helpers\n// ============================================================================\n\nexport function getEventBusConfig() {\n  const env = validateEnv();\n\n  return {\n    mode: env.EVENT_BUS_MODE,\n    natsUrl: env.NATS_URL,\n    redisUrl: env.REDIS_URL,\n    agentName: env.EVENT_BUS_AGENT_NAME || 'unknown-agent',\n  };\n}\n\n// ============================================================================\n// Database Config Helpers\n// ============================================================================\n\nexport function getDatabaseConfig() {\n  const env = validateEnv();\n\n  if (!env.DATABASE_URL) {\n    throw new Error('DATABASE_URL is required for database operations');\n  }\n\n  return {\n    url: env.DATABASE_URL,\n  };\n}\n\n// ============================================================================\n// S3 Config Helpers\n// ============================================================================\n\nexport function getS3Config() {\n  const env = validateEnv();\n\n  if (!env.S3_BUCKET || !env.S3_ACCESS_KEY || !env.S3_SECRET_KEY) {\n    throw new Error('S3_BUCKET, S3_ACCESS_KEY, and S3_SECRET_KEY are required for S3 operations');\n  }\n\n  return {\n    bucket: env.S3_BUCKET,\n    region: env.S3_REGION,\n    accessKeyId: env.S3_ACCESS_KEY,\n    secretAccessKey: env.S3_SECRET_KEY,\n  };\n}\n\n// ============================================================================\n// AI Services Config Helpers\n// ============================================================================\n\nexport function getAnthropicConfig() {\n  const env = validateEnv();\n\n  if (!env.ANTHROPIC_API_KEY) {\n    throw new Error('ANTHROPIC_API_KEY is required for Claude API operations');\n  }\n\n  return {\n    apiKey: env.ANTHROPIC_API_KEY,\n  };\n}\n\nexport function getOpenAIConfig() {\n  const env = validateEnv();\n\n  if (!env.OPENAI_API_KEY) {\n    throw new Error('OPENAI_API_KEY is required for OpenAI operations');\n  }\n\n  return {\n    apiKey: env.OPENAI_API_KEY,\n  };\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 789, "column": 0}, "map": {"version":3,"sources":["file:///Users/benkennon/dawg-ai/packages/types/src/index.ts"],"sourcesContent":["/**\n * @package @dawg-ai/types\n * @description Single source of truth for DAWG AI types\n * @owner Jerry (AI Conductor)\n */\n\n// Event types and schemas\nexport * from './events';\n\n// Environment validation\nexport * from './env';\n"],"names":[],"mappings":"AAAA;;;;CAIC,GAED,0BAA0B;;AAC1B;AAEA,yBAAyB;AACzB","debugId":null}},
    {"offset": {"line": 807, "column": 0}, "map": {"version":3,"sources":["file:///Users/benkennon/dawg-ai/hooks/useUIEvents.ts"],"sourcesContent":["/**\n * UI Event Bus Hooks\n * Typed hooks for subscribing to and emitting UI events\n *\n * Browser-only event bus for client-side UI events\n */\n\n'use client';\n\nimport { useEffect, useCallback, useRef } from 'react';\nimport {\n  EventTopics,\n  UIThemeChangedPayload,\n  UILayoutResizedPayload,\n  UIRouteChangedPayload,\n  UIModalOpenedPayload,\n  UIModalClosedPayload,\n  UINotificationShownPayload,\n  UIErrorDisplayedPayload,\n} from '@dawg-ai/types';\n\n// ============================================================================\n// Browser-Only Event Bus\n// ============================================================================\n\ntype EventHandler = (event: any) => void;\n\nclass BrowserEventBus {\n  private handlers: Map<string, Set<EventHandler>> = new Map();\n\n  publish(topic: string, payload: any, metadata?: { traceId: string }) {\n    const event = {\n      topic,\n      payload,\n      metadata: metadata || { traceId: crypto.randomUUID() },\n      timestamp: new Date().toISOString(),\n    };\n\n    const topicHandlers = this.handlers.get(topic);\n    if (topicHandlers) {\n      topicHandlers.forEach(handler => handler(event));\n    }\n  }\n\n  subscribe(topic: string, handler: EventHandler) {\n    if (!this.handlers.has(topic)) {\n      this.handlers.set(topic, new Set());\n    }\n    this.handlers.get(topic)!.add(handler);\n  }\n\n  unsubscribe(topic: string, handler: EventHandler) {\n    const topicHandlers = this.handlers.get(topic);\n    if (topicHandlers) {\n      topicHandlers.delete(handler);\n    }\n  }\n}\n\nconst browserEventBus = new BrowserEventBus();\n\n// ============================================================================\n// useUIEvent - Generic hook for any UI event\n// ============================================================================\n\nexport function useUIEvent<T>(\n  topic: string,\n  handler: (payload: T) => void,\n  deps: React.DependencyList = []\n) {\n  useEffect(() => {\n    const wrappedHandler = (event: any) => {\n      handler(event.payload);\n    };\n\n    browserEventBus.subscribe(topic, wrappedHandler);\n\n    return () => {\n      browserEventBus.unsubscribe(topic, wrappedHandler);\n    };\n  }, deps);\n}\n\n// ============================================================================\n// useTheme - Hook for theme management\n// ============================================================================\n\nexport function useTheme() {\n  const emit = useCallback((payload: UIThemeChangedPayload) => {\n    browserEventBus.publish(EventTopics.UI_THEME_CHANGED, payload, {\n      traceId: crypto.randomUUID(),\n    });\n  }, []);\n\n  const subscribe = useCallback((handler: (payload: UIThemeChangedPayload) => void) => {\n    const wrappedHandler = (event: any) => handler(event.payload);\n    browserEventBus.subscribe(EventTopics.UI_THEME_CHANGED, wrappedHandler);\n    return () => browserEventBus.unsubscribe(EventTopics.UI_THEME_CHANGED, wrappedHandler);\n  }, []);\n\n  return { emit, subscribe };\n}\n\n// ============================================================================\n// useLayout - Hook for layout/viewport changes\n// ============================================================================\n\nexport function useLayout() {\n  const emit = useCallback((payload: UILayoutResizedPayload) => {\n    browserEventBus.publish(EventTopics.UI_LAYOUT_RESIZED, payload, {\n      traceId: crypto.randomUUID(),\n    });\n  }, []);\n\n  const subscribe = useCallback((handler: (payload: UILayoutResizedPayload) => void) => {\n    const wrappedHandler = (event: any) => handler(event.payload);\n    browserEventBus.subscribe(EventTopics.UI_LAYOUT_RESIZED, wrappedHandler);\n    return () => browserEventBus.unsubscribe(EventTopics.UI_LAYOUT_RESIZED, wrappedHandler);\n  }, []);\n\n  // Automatically track viewport changes\n  useEffect(() => {\n    const getBreakpoint = (width: number): UILayoutResizedPayload['breakpoint'] => {\n      if (width < 640) return 'xs';\n      if (width < 768) return 'sm';\n      if (width < 1024) return 'md';\n      if (width < 1280) return 'lg';\n      if (width < 1536) return 'xl';\n      return '2xl';\n    };\n\n    let previousBreakpoint = getBreakpoint(window.innerWidth);\n\n    const handleResize = () => {\n      const width = window.innerWidth;\n      const height = window.innerHeight;\n      const breakpoint = getBreakpoint(width);\n\n      if (breakpoint !== previousBreakpoint) {\n        emit({\n          viewport_width: width,\n          viewport_height: height,\n          breakpoint,\n          previous_breakpoint: previousBreakpoint,\n        });\n        previousBreakpoint = breakpoint;\n      }\n    };\n\n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  }, [emit]);\n\n  return { emit, subscribe };\n}\n\n// ============================================================================\n// useWidget - Hook for widget lifecycle tracking\n// ============================================================================\n\nexport function useWidget(widgetId: string, widgetType: string, props?: Record<string, any>) {\n  const mountTimeRef = useRef<number>();\n\n  useEffect(() => {\n    // Widget mounted\n    mountTimeRef.current = Date.now();\n\n    browserEventBus.publish(EventTopics.UI_WIDGET_MOUNTED, {\n      widget_id: widgetId,\n      widget_type: widgetType,\n      props,\n    }, {\n      traceId: crypto.randomUUID(),\n    });\n\n    // Widget unmounted\n    return () => {\n      const duration_ms = Date.now() - (mountTimeRef.current || Date.now());\n\n      browserEventBus.publish(EventTopics.UI_WIDGET_UNMOUNTED, {\n        widget_id: widgetId,\n        widget_type: widgetType,\n        duration_ms,\n      }, {\n        traceId: crypto.randomUUID(),\n      });\n    };\n  }, [widgetId, widgetType, props]);\n}\n\n// ============================================================================\n// useRoute - Hook for route/navigation tracking\n// ============================================================================\n\nexport function useRoute() {\n  const emit = useCallback((payload: UIRouteChangedPayload) => {\n    browserEventBus.publish(EventTopics.UI_ROUTE_CHANGED, payload, {\n      traceId: crypto.randomUUID(),\n    });\n  }, []);\n\n  const subscribe = useCallback((handler: (payload: UIRouteChangedPayload) => void) => {\n    const wrappedHandler = (event: any) => handler(event.payload);\n    browserEventBus.subscribe(EventTopics.UI_ROUTE_CHANGED, wrappedHandler);\n    return () => browserEventBus.unsubscribe(EventTopics.UI_ROUTE_CHANGED, wrappedHandler);\n  }, []);\n\n  return { emit, subscribe };\n}\n\n// ============================================================================\n// useModal - Hook for modal state tracking\n// ============================================================================\n\nexport function useModal() {\n  const open = useCallback((payload: UIModalOpenedPayload) => {\n    browserEventBus.publish(EventTopics.UI_MODAL_OPENED, payload, {\n      traceId: crypto.randomUUID(),\n    });\n  }, []);\n\n  const close = useCallback((payload: UIModalClosedPayload) => {\n    browserEventBus.publish(EventTopics.UI_MODAL_CLOSED, payload, {\n      traceId: crypto.randomUUID(),\n    });\n  }, []);\n\n  const subscribeOpen = useCallback((handler: (payload: UIModalOpenedPayload) => void) => {\n    const wrappedHandler = (event: any) => handler(event.payload);\n    browserEventBus.subscribe(EventTopics.UI_MODAL_OPENED, wrappedHandler);\n    return () => browserEventBus.unsubscribe(EventTopics.UI_MODAL_OPENED, wrappedHandler);\n  }, []);\n\n  const subscribeClose = useCallback((handler: (payload: UIModalClosedPayload) => void) => {\n    const wrappedHandler = (event: any) => handler(event.payload);\n    browserEventBus.subscribe(EventTopics.UI_MODAL_CLOSED, wrappedHandler);\n    return () => browserEventBus.unsubscribe(EventTopics.UI_MODAL_CLOSED, wrappedHandler);\n  }, []);\n\n  return { open, close, subscribeOpen, subscribeClose };\n}\n\n// ============================================================================\n// useNotification - Hook for showing notifications\n// ============================================================================\n\nexport function useNotification() {\n  const show = useCallback((payload: UINotificationShownPayload) => {\n    browserEventBus.publish(EventTopics.UI_NOTIFICATION_SHOWN, payload, {\n      traceId: crypto.randomUUID(),\n    });\n  }, []);\n\n  const subscribe = useCallback((handler: (payload: UINotificationShownPayload) => void) => {\n    const wrappedHandler = (event: any) => handler(event.payload);\n    browserEventBus.subscribe(EventTopics.UI_NOTIFICATION_SHOWN, wrappedHandler);\n    return () => browserEventBus.unsubscribe(EventTopics.UI_NOTIFICATION_SHOWN, wrappedHandler);\n  }, []);\n\n  return { show, subscribe };\n}\n\n// ============================================================================\n// useErrorTracking - Hook for error tracking\n// ============================================================================\n\nexport function useErrorTracking() {\n  const trackError = useCallback((payload: UIErrorDisplayedPayload) => {\n    browserEventBus.publish(EventTopics.UI_ERROR_DISPLAYED, payload, {\n      traceId: crypto.randomUUID(),\n    });\n  }, []);\n\n  const subscribe = useCallback((handler: (payload: UIErrorDisplayedPayload) => void) => {\n    const wrappedHandler = (event: any) => handler(event.payload);\n    browserEventBus.subscribe(EventTopics.UI_ERROR_DISPLAYED, wrappedHandler);\n    return () => browserEventBus.unsubscribe(EventTopics.UI_ERROR_DISPLAYED, wrappedHandler);\n  }, []);\n\n  // Automatic error boundary integration\n  useEffect(() => {\n    const handleError = (event: ErrorEvent) => {\n      trackError({\n        error_id: crypto.randomUUID(),\n        error_type: event.error?.name || 'UnknownError',\n        message: event.message,\n        stack: event.error?.stack,\n      });\n    };\n\n    const handleUnhandledRejection = (event: PromiseRejectionEvent) => {\n      trackError({\n        error_id: crypto.randomUUID(),\n        error_type: 'UnhandledPromiseRejection',\n        message: event.reason?.message || String(event.reason),\n        stack: event.reason?.stack,\n      });\n    };\n\n    window.addEventListener('error', handleError);\n    window.addEventListener('unhandledrejection', handleUnhandledRejection);\n\n    return () => {\n      window.removeEventListener('error', handleError);\n      window.removeEventListener('unhandledrejection', handleUnhandledRejection);\n    };\n  }, [trackError]);\n\n  return { trackError, subscribe };\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1184, "column": 0}, "map": {"version":3,"sources":["file:///Users/benkennon/dawg-ai/components/examples/UIInfrastructureDemo.tsx"],"sourcesContent":["/**\n * UI Infrastructure Demo Component\n *\n * Demonstrates the complete UI infrastructure:\n * - Design tokens (colors, spacing, typography, etc.)\n * - UI events (theme, layout, widget lifecycle)\n * - Event bus integration\n *\n * This component shows how to properly use the infrastructure\n * in real components.\n */\n\n'use client';\n\nimport React, { useState, useEffect } from 'react';\nimport { useTheme, useLayout, useWidget, useNotification } from '@/hooks/useUIEvents';\n\nexport function UIInfrastructureDemo() {\n  const [currentTheme, setCurrentTheme] = useState<'light' | 'dark' | 'system'>('system');\n  const [breakpoint, setBreakpoint] = useState<string>('unknown');\n  const [notifications, setNotifications] = useState<string[]>([]);\n\n  // Theme management with UI events\n  const { emit: emitTheme, subscribe: onThemeChange } = useTheme();\n\n  // Layout tracking (auto-tracks viewport)\n  const { subscribe: onLayoutChange } = useLayout();\n\n  // Notifications\n  const { show: showNotification, subscribe: onNotification } = useNotification();\n\n  // Widget lifecycle tracking\n  useWidget('ui-demo-001', 'UIInfrastructureDemo', { version: '1.0' });\n\n  // Subscribe to theme changes\n  useEffect(() => {\n    const sub = onThemeChange((payload) => {\n      console.log('[Demo] Theme changed:', payload);\n      setCurrentTheme(payload.theme);\n    });\n    return () => sub.unsubscribe();\n  }, [onThemeChange]);\n\n  // Subscribe to layout changes\n  useEffect(() => {\n    const sub = onLayoutChange((payload) => {\n      console.log('[Demo] Layout changed:', payload);\n      setBreakpoint(payload.breakpoint);\n    });\n    return () => sub.unsubscribe();\n  }, [onLayoutChange]);\n\n  // Subscribe to notifications\n  useEffect(() => {\n    const sub = onNotification((payload) => {\n      console.log('[Demo] Notification shown:', payload);\n      setNotifications(prev => [...prev.slice(-4), payload.message]);\n    });\n    return () => sub.unsubscribe();\n  }, [onNotification]);\n\n  // Handle theme change\n  const handleThemeChange = (newTheme: 'light' | 'dark' | 'system') => {\n    emitTheme({\n      theme: newTheme,\n      previous_theme: currentTheme,\n      user_id: 'demo-user',\n    });\n\n    // Show notification\n    showNotification({\n      notification_id: crypto.randomUUID(),\n      type: 'info',\n      message: `Theme changed to ${newTheme}`,\n      duration_ms: 3000,\n    });\n  };\n\n  return (\n    <div style={{\n      // Using design tokens via CSS variables\n      padding: 'var(--spacing-8)',\n      background: 'var(--color-neutral-50)',\n      borderRadius: 'var(--radius-lg)',\n      boxShadow: 'var(--shadow-xl)',\n      maxWidth: 'var(--spacing-128)',\n      margin: '0 auto',\n    }}>\n      <h1 style={{\n        fontSize: 'var(--text-3xl)',\n        fontWeight: 'var(--font-weight-bold)',\n        marginBottom: 'var(--spacing-6)',\n        color: 'var(--color-neutral-900)',\n      }}>\n        UI Infrastructure Demo\n      </h1>\n\n      {/* Design Tokens Section */}\n      <section style={{\n        marginBottom: 'var(--spacing-8)',\n        padding: 'var(--spacing-6)',\n        background: 'var(--color-primary-50)',\n        borderRadius: 'var(--radius-md)',\n        border: '2px solid var(--color-primary-200)',\n      }}>\n        <h2 style={{\n          fontSize: 'var(--text-xl)',\n          fontWeight: 'var(--font-weight-semibold)',\n          marginBottom: 'var(--spacing-4)',\n          color: 'var(--color-primary-900)',\n        }}>\n          🎨 Design Tokens\n        </h2>\n\n        <div style={{\n          display: 'grid',\n          gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))',\n          gap: 'var(--spacing-4)',\n        }}>\n          {/* Color Tokens */}\n          <div style={{\n            padding: 'var(--spacing-4)',\n            background: 'var(--color-neutral-0)',\n            borderRadius: 'var(--radius-base)',\n          }}>\n            <h3 style={{\n              fontSize: 'var(--text-sm)',\n              fontWeight: 'var(--font-weight-medium)',\n              marginBottom: 'var(--spacing-2)',\n              color: 'var(--color-neutral-700)',\n            }}>\n              Colors\n            </h3>\n            <div style={{ display: 'flex', gap: 'var(--spacing-2)' }}>\n              <div style={{\n                width: 'var(--spacing-12)',\n                height: 'var(--spacing-12)',\n                background: 'var(--color-primary-500)',\n                borderRadius: 'var(--radius-base)',\n              }} />\n              <div style={{\n                width: 'var(--spacing-12)',\n                height: 'var(--spacing-12)',\n                background: 'var(--color-secondary-500)',\n                borderRadius: 'var(--radius-base)',\n              }} />\n              <div style={{\n                width: 'var(--spacing-12)',\n                height: 'var(--spacing-12)',\n                background: 'var(--color-accent-500)',\n                borderRadius: 'var(--radius-base)',\n              }} />\n            </div>\n          </div>\n\n          {/* Spacing Tokens */}\n          <div style={{\n            padding: 'var(--spacing-4)',\n            background: 'var(--color-neutral-0)',\n            borderRadius: 'var(--radius-base)',\n          }}>\n            <h3 style={{\n              fontSize: 'var(--text-sm)',\n              fontWeight: 'var(--font-weight-medium)',\n              marginBottom: 'var(--spacing-2)',\n              color: 'var(--color-neutral-700)',\n            }}>\n              Spacing\n            </h3>\n            <div style={{ display: 'flex', alignItems: 'flex-end', gap: 'var(--spacing-2)' }}>\n              <div style={{ width: 'var(--spacing-4)', height: 'var(--spacing-4)', background: 'var(--color-neutral-400)' }} />\n              <div style={{ width: 'var(--spacing-4)', height: 'var(--spacing-8)', background: 'var(--color-neutral-400)' }} />\n              <div style={{ width: 'var(--spacing-4)', height: 'var(--spacing-12)', background: 'var(--color-neutral-400)' }} />\n              <div style={{ width: 'var(--spacing-4)', height: 'var(--spacing-16)', background: 'var(--color-neutral-400)' }} />\n            </div>\n          </div>\n\n          {/* Shadow Tokens */}\n          <div style={{\n            padding: 'var(--spacing-4)',\n            background: 'var(--color-neutral-0)',\n            borderRadius: 'var(--radius-base)',\n          }}>\n            <h3 style={{\n              fontSize: 'var(--text-sm)',\n              fontWeight: 'var(--font-weight-medium)',\n              marginBottom: 'var(--spacing-2)',\n              color: 'var(--color-neutral-700)',\n            }}>\n              Shadows\n            </h3>\n            <div style={{ display: 'flex', gap: 'var(--spacing-2)' }}>\n              <div style={{\n                width: 'var(--spacing-12)',\n                height: 'var(--spacing-12)',\n                background: 'var(--color-neutral-0)',\n                boxShadow: 'var(--shadow-sm)',\n                borderRadius: 'var(--radius-base)',\n              }} />\n              <div style={{\n                width: 'var(--spacing-12)',\n                height: 'var(--spacing-12)',\n                background: 'var(--color-neutral-0)',\n                boxShadow: 'var(--shadow-md)',\n                borderRadius: 'var(--radius-base)',\n              }} />\n              <div style={{\n                width: 'var(--spacing-12)',\n                height: 'var(--spacing-12)',\n                background: 'var(--color-neutral-0)',\n                boxShadow: 'var(--shadow-lg)',\n                borderRadius: 'var(--radius-base)',\n              }} />\n            </div>\n          </div>\n        </div>\n      </section>\n\n      {/* UI Events Section */}\n      <section style={{\n        marginBottom: 'var(--spacing-8)',\n        padding: 'var(--spacing-6)',\n        background: 'var(--color-secondary-50)',\n        borderRadius: 'var(--radius-md)',\n        border: '2px solid var(--color-secondary-200)',\n      }}>\n        <h2 style={{\n          fontSize: 'var(--text-xl)',\n          fontWeight: 'var(--font-weight-semibold)',\n          marginBottom: 'var(--spacing-4)',\n          color: 'var(--color-secondary-900)',\n        }}>\n          📡 UI Events\n        </h2>\n\n        {/* Theme Control */}\n        <div style={{ marginBottom: 'var(--spacing-4)' }}>\n          <h3 style={{\n            fontSize: 'var(--text-base)',\n            fontWeight: 'var(--font-weight-medium)',\n            marginBottom: 'var(--spacing-2)',\n            color: 'var(--color-neutral-700)',\n          }}>\n            Theme: <span style={{ color: 'var(--color-secondary-600)' }}>{currentTheme}</span>\n          </h3>\n          <div style={{ display: 'flex', gap: 'var(--spacing-2)' }}>\n            {(['light', 'dark', 'system'] as const).map(theme => (\n              <button\n                key={theme}\n                onClick={() => handleThemeChange(theme)}\n                style={{\n                  padding: 'var(--spacing-2) var(--spacing-4)',\n                  background: theme === currentTheme ? 'var(--color-secondary-500)' : 'var(--color-neutral-0)',\n                  color: theme === currentTheme ? 'var(--color-neutral-0)' : 'var(--color-neutral-900)',\n                  border: '2px solid var(--color-secondary-300)',\n                  borderRadius: 'var(--radius-base)',\n                  fontSize: 'var(--text-sm)',\n                  fontWeight: 'var(--font-weight-medium)',\n                  cursor: 'pointer',\n                  transition: 'all var(--duration-fast) var(--ease-out)',\n                }}\n              >\n                {theme}\n              </button>\n            ))}\n          </div>\n        </div>\n\n        {/* Layout Info */}\n        <div style={{ marginBottom: 'var(--spacing-4)' }}>\n          <h3 style={{\n            fontSize: 'var(--text-base)',\n            fontWeight: 'var(--font-weight-medium)',\n            marginBottom: 'var(--spacing-2)',\n            color: 'var(--color-neutral-700)',\n          }}>\n            Breakpoint: <span style={{ color: 'var(--color-secondary-600)' }}>{breakpoint}</span>\n          </h3>\n          <p style={{\n            fontSize: 'var(--text-sm)',\n            color: 'var(--color-neutral-600)',\n          }}>\n            Resize window to see breakpoint changes tracked automatically\n          </p>\n        </div>\n\n        {/* Notifications */}\n        <div>\n          <h3 style={{\n            fontSize: 'var(--text-base)',\n            fontWeight: 'var(--font-weight-medium)',\n            marginBottom: 'var(--spacing-2)',\n            color: 'var(--color-neutral-700)',\n          }}>\n            Recent Notifications:\n          </h3>\n          <div style={{ display: 'flex', flexDirection: 'column', gap: 'var(--spacing-2)' }}>\n            {notifications.length === 0 ? (\n              <p style={{\n                fontSize: 'var(--text-sm)',\n                color: 'var(--color-neutral-500)',\n                fontStyle: 'italic',\n              }}>\n                No notifications yet. Change theme to trigger one.\n              </p>\n            ) : (\n              notifications.map((notif, i) => (\n                <div\n                  key={i}\n                  style={{\n                    padding: 'var(--spacing-2) var(--spacing-3)',\n                    background: 'var(--color-neutral-0)',\n                    borderRadius: 'var(--radius-base)',\n                    fontSize: 'var(--text-sm)',\n                    color: 'var(--color-neutral-700)',\n                    border: '1px solid var(--color-secondary-200)',\n                  }}\n                >\n                  {notif}\n                </div>\n              ))\n            )}\n          </div>\n        </div>\n      </section>\n\n      {/* Event Bus Info */}\n      <section style={{\n        padding: 'var(--spacing-6)',\n        background: 'var(--color-accent-50)',\n        borderRadius: 'var(--radius-md)',\n        border: '2px solid var(--color-accent-200)',\n      }}>\n        <h2 style={{\n          fontSize: 'var(--text-xl)',\n          fontWeight: 'var(--font-weight-semibold)',\n          marginBottom: 'var(--spacing-4)',\n          color: 'var(--color-accent-900)',\n        }}>\n          📊 Event Bus Status\n        </h2>\n        <div style={{\n          padding: 'var(--spacing-4)',\n          background: 'var(--color-neutral-0)',\n          borderRadius: 'var(--radius-base)',\n          fontFamily: 'var(--font-mono)',\n          fontSize: 'var(--text-sm)',\n          color: 'var(--color-neutral-700)',\n        }}>\n          <p>✅ Widget lifecycle tracked: ui.widget.mounted</p>\n          <p>✅ Theme changes: ui.theme.changed</p>\n          <p>✅ Layout resize: ui.layout.resized (auto)</p>\n          <p>✅ Notifications: ui.notification.shown</p>\n          <p style={{ marginTop: 'var(--spacing-2)', color: 'var(--color-accent-700)' }}>\n            Open console to see event logs\n          </p>\n        </div>\n      </section>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}